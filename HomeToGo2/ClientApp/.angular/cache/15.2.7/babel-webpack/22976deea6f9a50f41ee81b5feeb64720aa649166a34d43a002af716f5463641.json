{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet ListingsGridComponent = class ListingsGridComponent {\n  constructor(listingService, _router) {\n    this.listingService = listingService;\n    this._router = _router;\n    this.listings = [];\n    this.sortedListings = [];\n  }\n  ngOnInit() {\n    //fetched all listings when the component initializes.\n    this.fetchListings();\n  }\n  fetchListings() {\n    //subscribed to the Observable returned by the getListings method.\n    this.listingService.getListings().subscribe(data => {\n      this.listings = data;\n      this.sortedListings = [...this.listings]; // Initialize sortedListings\n    }, error => {\n      console.error('Error fetching listings', error);\n    });\n  }\n  sortListings(event) {\n    //sorted the listings based on the selected sort option.\n    const selectElement = event.target;\n    const sortOption = selectElement.value;\n    switch (sortOption) {\n      case 'priceAsc':\n        this.sortedListings = [...this.listings].sort((a, b) => a.Price - b.Price);\n        break;\n      case 'priceDesc':\n        this.sortedListings = [...this.listings].sort((a, b) => b.Price - a.Price);\n        break;\n      case 'titleAsc':\n        this.sortedListings = [...this.listings].sort((a, b) => a.Title.localeCompare(b.Title));\n        break;\n      case 'titleDesc':\n        this.sortedListings = [...this.listings].sort((a, b) => b.Title.localeCompare(a.Title));\n        break;\n    }\n  }\n  goToListingDetail(listingId) {\n    this._router.navigate(['/listingdetail', listingId]);\n  }\n};\nListingsGridComponent = __decorate([Component({\n  selector: 'app-listingsgrid',\n  templateUrl: './listingsgrid.component.html',\n  styleUrls: ['./listingsgrid.component.css']\n})], ListingsGridComponent);\nexport { ListingsGridComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AAU1C,IAAMC,qBAAqB,GAA3B,MAAMA,qBAAqB;EAIhCC,YAAoBC,cAA8B,EAAUC,OAAe;IAAvD,mBAAc,GAAdD,cAAc;IAA0B,YAAO,GAAPC,OAAO;IAHnE,aAAQ,GAAe,EAAE;IACzB,mBAAc,GAAe,EAAE;EAEgD;EAE/EC,QAAQ;IACN;IACA,IAAI,CAACC,aAAa,EAAE;EACtB;EAEAA,aAAa;IACX;IACA,IAAI,CAACH,cAAc,CAACI,WAAW,EAAE,CAACC,SAAS,CACxCC,IAAgB,IAAI;MACnB,IAAI,CAACC,QAAQ,GAAGD,IAAI;MACpB,IAAI,CAACE,cAAc,GAAG,CAAC,GAAG,IAAI,CAACD,QAAQ,CAAC,CAAC,CAAC;IAC5C,CAAC,EACDE,KAAK,IAAG;MACNC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;IACjD,CAAC,CACF;EACH;EAEAE,YAAY,CAACC,KAAY;IACvB;IACA,MAAMC,aAAa,GAAGD,KAAK,CAACE,MAA2B;IACvD,MAAMC,UAAU,GAAGF,aAAa,CAACG,KAAK;IAEtC,QAAQD,UAAU;MAChB,KAAK,UAAU;QACb,IAAI,CAACP,cAAc,GAAG,CAAC,GAAG,IAAI,CAACD,QAAQ,CAAC,CAACU,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACE,KAAK,GAAGD,CAAC,CAACC,KAAK,CAAC;QAC1E;MACF,KAAK,WAAW;QACd,IAAI,CAACZ,cAAc,GAAG,CAAC,GAAG,IAAI,CAACD,QAAQ,CAAC,CAACU,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACC,KAAK,GAAGF,CAAC,CAACE,KAAK,CAAC;QAC1E;MACF,KAAK,UAAU;QACb,IAAI,CAACZ,cAAc,GAAG,CAAC,GAAG,IAAI,CAACD,QAAQ,CAAC,CAACU,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,CAACG,KAAK,CAACC,aAAa,CAACH,CAAC,CAACE,KAAK,CAAC,CAAC;QACvF;MACF,KAAK,WAAW;QACd,IAAI,CAACb,cAAc,GAAG,CAAC,GAAG,IAAI,CAACD,QAAQ,CAAC,CAACU,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKA,CAAC,CAACE,KAAK,CAACC,aAAa,CAACJ,CAAC,CAACG,KAAK,CAAC,CAAC;QACvF;IAAM;EAEZ;EAEAE,iBAAiB,CAACC,SAAiB;IACjC,IAAI,CAACvB,OAAO,CAACwB,QAAQ,CAAC,CAAC,gBAAgB,EAAED,SAAS,CAAC,CAAC;EACtD;CACD;AAhDY1B,qBAAqB,eALjCD,SAAS,CAAC;EACT6B,QAAQ,EAAE,kBAAkB;EAC5BC,WAAW,EAAE,+BAA+B;EAC5CC,SAAS,EAAE,CAAC,8BAA8B;CAC3C,CAAC,GACW9B,qBAAqB,CAgDjC;SAhDYA,qBAAqB","names":["Component","ListingsGridComponent","constructor","listingService","_router","ngOnInit","fetchListings","getListings","subscribe","data","listings","sortedListings","error","console","sortListings","event","selectElement","target","sortOption","value","sort","a","b","Price","Title","localeCompare","goToListingDetail","listingId","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["/Users/zakarianurgutale/Projects/HomeToGo2/HomeToGo2/ClientApp/src/app/Listings/listingsgrid.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { IListing } from './listing';\nimport { ListingService } from './listings.service';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-listingsgrid',\n  templateUrl: './listingsgrid.component.html',\n  styleUrls: ['./listingsgrid.component.css']\n})\nexport class ListingsGridComponent implements OnInit {\n  listings: IListing[] = [];\n  sortedListings: IListing[] = [];\n\n  constructor(private listingService: ListingService, private _router: Router) { }\n\n  ngOnInit(): void {\n    //fetched all listings when the component initializes.\n    this.fetchListings();\n  }\n\n  fetchListings(): void {\n    //subscribed to the Observable returned by the getListings method.\n    this.listingService.getListings().subscribe(\n      (data: IListing[]) => {\n        this.listings = data;\n        this.sortedListings = [...this.listings]; // Initialize sortedListings\n      },\n      error => {\n        console.error('Error fetching listings', error);\n      }\n    );\n  }\n\n  sortListings(event: Event): void {\n    //sorted the listings based on the selected sort option.\n    const selectElement = event.target as HTMLSelectElement;\n    const sortOption = selectElement.value;\n\n    switch (sortOption) {\n      case 'priceAsc':\n        this.sortedListings = [...this.listings].sort((a, b) => a.Price - b.Price);\n        break;\n      case 'priceDesc':\n        this.sortedListings = [...this.listings].sort((a, b) => b.Price - a.Price);\n        break;\n      case 'titleAsc':\n        this.sortedListings = [...this.listings].sort((a, b) => a.Title.localeCompare(b.Title));\n        break;\n      case 'titleDesc':\n        this.sortedListings = [...this.listings].sort((a, b) => b.Title.localeCompare(a.Title));\n        break;\n    }\n  }\n\n  goToListingDetail(listingId: number): void {\n    this._router.navigate(['/listingdetail', listingId]);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}