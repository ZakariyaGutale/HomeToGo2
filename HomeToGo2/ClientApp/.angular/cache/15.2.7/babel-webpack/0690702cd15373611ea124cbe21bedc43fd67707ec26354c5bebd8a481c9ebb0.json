{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"./auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nfunction RegisterComponent_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1, \" Username is required. \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_16_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Email is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_16_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Invalid email format.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtemplate(1, RegisterComponent_div_16_div_1_Template, 2, 0, \"div\", 21);\n    i0.ɵɵtemplate(2, RegisterComponent_div_16_div_2_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r3 = i0.ɵɵreference(15);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r3.errors.email);\n  }\n}\nfunction RegisterComponent_div_22_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Password is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_22_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Password must be at least 6 characters long with a number and a symbol.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtemplate(1, RegisterComponent_div_22_div_1_Template, 2, 0, \"div\", 21);\n    i0.ɵɵtemplate(2, RegisterComponent_div_22_div_2_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r5 = i0.ɵɵreference(21);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r5.errors.minlength);\n  }\n}\nfunction RegisterComponent_div_28_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\");\n    i0.ɵɵtext(1, \"Confirmation password is required.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegisterComponent_div_28_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtemplate(1, RegisterComponent_div_28_div_1_Template, 2, 0, \"div\", 21);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    i0.ɵɵnextContext();\n    const _r7 = i0.ɵɵreference(27);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", _r7.errors.required);\n  }\n}\nfunction RegisterComponent_div_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 20);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r9.errorMessage);\n  }\n}\nfunction RegisterComponent_div_34_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 22);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r10.successMessage);\n  }\n}\nconst _c0 = function () {\n  return [\"/login\"];\n};\nexport class RegisterComponent {\n  constructor(authService, router) {\n    this.authService = authService;\n    this.router = router;\n    this.email = '';\n    this.username = ''; // Add username\n    this.password = '';\n    this.confirmPassword = '';\n    this.errorMessage = '';\n    this.successMessage = '';\n    this.isLoading = false;\n  }\n  ngOnInit() {}\n  register() {\n    this.errorMessage = '';\n    this.successMessage = '';\n    this.isLoading = true;\n    if (this.password !== this.confirmPassword) {\n      this.isLoading = false;\n      this.errorMessage = 'Passwords do not match';\n      return;\n    }\n    this.authService.register(this.email, this.username, this.password).subscribe(response => {\n      this.successMessage = 'Registration successful!';\n      // Automatically log in after successful registration\n      this.loginAfterRegister();\n    }, error => {\n      this.isLoading = false;\n      this.errorMessage = error.error.message || 'Registration failed';\n    });\n  }\n  loginAfterRegister() {\n    this.authService.login(this.username, this.password).subscribe(success => {\n      this.router.navigate(['/']); // Navigate to home or dashboard\n    }, loginError => {\n      this.errorMessage = 'Automatic login failed. Please log in manually.';\n      this.isLoading = false;\n    });\n  }\n}\nRegisterComponent.ɵfac = function RegisterComponent_Factory(t) {\n  return new (t || RegisterComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n};\nRegisterComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: RegisterComponent,\n  selectors: [[\"app-register\"]],\n  decls: 35,\n  vars: 13,\n  consts: [[1, \"form-container\"], [3, \"ngSubmit\"], [\"registerForm\", \"ngForm\"], [1, \"form-group\"], [\"for\", \"username\"], [\"type\", \"text\", \"id\", \"username\", \"name\", \"username\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"usernameField\", \"ngModel\"], [\"class\", \"alert alert-danger\", 4, \"ngIf\"], [\"for\", \"email\"], [\"type\", \"email\", \"id\", \"email\", \"name\", \"email\", \"required\", \"\", \"email\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"emailField\", \"ngModel\"], [\"for\", \"password\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"required\", \"\", \"minlength\", \"6\", 3, \"ngModel\", \"ngModelChange\"], [\"passwordField\", \"ngModel\"], [\"for\", \"confirmPassword\"], [\"type\", \"password\", \"id\", \"confirmPassword\", \"name\", \"confirmPassword\", \"required\", \"\", 3, \"ngModel\", \"ngModelChange\"], [\"confirmPasswordField\", \"ngModel\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [\"id\", \"loginregister\", 1, \"btn\", \"btn-outline-secondary\", 3, \"routerLink\"], [\"class\", \"alert alert-success\", 4, \"ngIf\"], [1, \"alert\", \"alert-danger\"], [4, \"ngIf\"], [1, \"alert\", \"alert-success\"]],\n  template: function RegisterComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h2\");\n      i0.ɵɵtext(2, \"Register\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 1, 2);\n      i0.ɵɵlistener(\"ngSubmit\", function RegisterComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.register();\n      });\n      i0.ɵɵelementStart(5, \"div\", 3)(6, \"label\", 4);\n      i0.ɵɵtext(7, \"Username:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"input\", 5, 6);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_8_listener($event) {\n        return ctx.username = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(10, RegisterComponent_div_10_Template, 2, 0, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(11, \"div\", 3)(12, \"label\", 8);\n      i0.ɵɵtext(13, \"Email:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"input\", 9, 10);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_14_listener($event) {\n        return ctx.email = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(16, RegisterComponent_div_16_Template, 3, 2, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"div\", 3)(18, \"label\", 11);\n      i0.ɵɵtext(19, \"Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(20, \"input\", 12, 13);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_20_listener($event) {\n        return ctx.password = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(22, RegisterComponent_div_22_Template, 3, 2, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(23, \"div\", 3)(24, \"label\", 14);\n      i0.ɵɵtext(25, \"Confirm Password:\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(26, \"input\", 15, 16);\n      i0.ɵɵlistener(\"ngModelChange\", function RegisterComponent_Template_input_ngModelChange_26_listener($event) {\n        return ctx.confirmPassword = $event;\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵtemplate(28, RegisterComponent_div_28_Template, 2, 1, \"div\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(29, \"button\", 17);\n      i0.ɵɵtext(30, \"Register\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(31, \"a\", 18);\n      i0.ɵɵtext(32, \"Or Login\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(33, RegisterComponent_div_33_Template, 2, 1, \"div\", 7);\n      i0.ɵɵtemplate(34, RegisterComponent_div_34_Template, 2, 1, \"div\", 19);\n      i0.ɵɵelementEnd();\n    }\n    if (rf & 2) {\n      const _r0 = i0.ɵɵreference(4);\n      const _r1 = i0.ɵɵreference(9);\n      const _r3 = i0.ɵɵreference(15);\n      const _r5 = i0.ɵɵreference(21);\n      const _r7 = i0.ɵɵreference(27);\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngModel\", ctx.username);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r1.invalid && (_r1.dirty || _r1.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.email);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r3.errors && (_r3.dirty || _r3.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.password);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r5.errors && (_r5.dirty || _r5.touched));\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.confirmPassword);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", _r7.errors && (_r7.dirty || _r7.touched));\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", !_r0.form.valid);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(12, _c0));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"ngIf\", ctx.errorMessage);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngIf\", ctx.successMessage);\n    }\n  },\n  dependencies: [i3.NgIf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.EmailValidator, i4.NgModel, i4.NgForm, i2.RouterLink],\n  styles: [\".form-container[_ngcontent-%COMP%] {\\n  max-width: 400px;\\n  margin: 5rem auto;\\n  padding: 2rem;\\n  background-color: #f7f7f7;\\n  border-radius: 10px;\\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\\n  font-family: -apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, \\\"Helvetica Neue\\\", Arial, sans-serif;\\n}\\n\\n.form-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  text-align: center;\\n  color: #333;\\n  margin-bottom: 1.5rem;\\n}\\n\\n.form-group[_ngcontent-%COMP%] {\\n  margin-bottom: 1rem;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%] {\\n  font-weight: 600;\\n  margin-bottom: 0.5rem;\\n  display: block;\\n}\\n\\n.form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 0.75rem;\\n  border-radius: 5px;\\n  border: 1px solid #ccc;\\n  font-size: 1rem;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%] {\\n  width: 100%;\\n  padding: 0.75rem;\\n  border-radius: 5px;\\n  border: none;\\n  background-color: #007aff;\\n  color: white;\\n  font-size: 1rem;\\n  cursor: pointer;\\n  transition: background-color 0.2s ease;\\n}\\n\\n.btn-primary[_ngcontent-%COMP%]:hover {\\n  background-color: #0056b3;\\n}\\n\\n#loginregister[_ngcontent-%COMP%] {\\n  display: block;\\n  text-align: center;\\n  margin-top: 1rem;\\n  color: #007aff;\\n  text-decoration: none;\\n}\\n\\n#loginregister[_ngcontent-%COMP%]:hover {\\n  text-decoration: underline;\\n}\\n\\n.alert[_ngcontent-%COMP%] {\\n  margin-top: 1rem;\\n  padding: 0.75rem;\\n  border-radius: 5px;\\n  text-align: center;\\n  font-size: 0.9rem;\\n}\\n\\n.alert-danger[_ngcontent-%COMP%] {\\n  background-color: #dc3545;\\n  color: white;\\n}\\n\\n.alert-success[_ngcontent-%COMP%] {\\n  background-color: #28a745;\\n  color: white;\\n}\\n\\n.error[_ngcontent-%COMP%] {\\n  color: #dc3545;\\n  font-size: 0.8rem;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvQXV0aGVudGljYXRpb24vcmVnaXN0ZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSwwQkFBMEI7O0FBRTFCO0VBQ0UsZ0JBQWdCO0VBQ2hCLGlCQUFpQjtFQUNqQixhQUFhO0VBQ2IseUJBQXlCO0VBQ3pCLG1CQUFtQjtFQUNuQix3Q0FBd0M7RUFDeEMsdUdBQXVHO0FBQ3pHOztBQUVBO0VBQ0Usa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxxQkFBcUI7QUFDdkI7O0FBRUE7RUFDRSxtQkFBbUI7QUFDckI7O0FBRUE7RUFDRSxnQkFBZ0I7RUFDaEIscUJBQXFCO0VBQ3JCLGNBQWM7QUFDaEI7O0FBRUE7RUFDRSxXQUFXO0VBQ1gsZ0JBQWdCO0VBQ2hCLGtCQUFrQjtFQUNsQixzQkFBc0I7RUFDdEIsZUFBZTtBQUNqQjs7QUFFQTtFQUNFLFdBQVc7RUFDWCxnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLFlBQVk7RUFDWix5QkFBeUI7RUFDekIsWUFBWTtFQUNaLGVBQWU7RUFDZixlQUFlO0VBQ2Ysc0NBQXNDO0FBQ3hDOztBQUVBO0VBQ0UseUJBQXlCO0FBQzNCOztBQUVBO0VBQ0UsY0FBYztFQUNkLGtCQUFrQjtFQUNsQixnQkFBZ0I7RUFDaEIsY0FBYztFQUNkLHFCQUFxQjtBQUN2Qjs7QUFFQTtFQUNFLDBCQUEwQjtBQUM1Qjs7QUFFQTtFQUNFLGdCQUFnQjtFQUNoQixnQkFBZ0I7RUFDaEIsa0JBQWtCO0VBQ2xCLGtCQUFrQjtFQUNsQixpQkFBaUI7QUFDbkI7O0FBRUE7RUFDRSx5QkFBeUI7RUFDekIsWUFBWTtBQUNkOztBQUVBO0VBQ0UseUJBQXlCO0VBQ3pCLFlBQVk7QUFDZDs7QUFFQTtFQUNFLGNBQWM7RUFDZCxpQkFBaUI7QUFDbkIiLCJzb3VyY2VzQ29udGVudCI6WyIvKiBSZWdpc3RlciBGb3JtIFN0eWxpbmcgKi9cblxuLmZvcm0tY29udGFpbmVyIHtcbiAgbWF4LXdpZHRoOiA0MDBweDtcbiAgbWFyZ2luOiA1cmVtIGF1dG87XG4gIHBhZGRpbmc6IDJyZW07XG4gIGJhY2tncm91bmQtY29sb3I6ICNmN2Y3Zjc7XG4gIGJvcmRlci1yYWRpdXM6IDEwcHg7XG4gIGJveC1zaGFkb3c6IDAgNHB4IDhweCByZ2JhKDAsIDAsIDAsIDAuMSk7XG4gIGZvbnQtZmFtaWx5OiAtYXBwbGUtc3lzdGVtLCBCbGlua01hY1N5c3RlbUZvbnQsIFwiU2Vnb2UgVUlcIiwgUm9ib3RvLCBcIkhlbHZldGljYSBOZXVlXCIsIEFyaWFsLCBzYW5zLXNlcmlmO1xufVxuXG4uZm9ybS1jb250YWluZXIgaDIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIGNvbG9yOiAjMzMzO1xuICBtYXJnaW4tYm90dG9tOiAxLjVyZW07XG59XG5cbi5mb3JtLWdyb3VwIHtcbiAgbWFyZ2luLWJvdHRvbTogMXJlbTtcbn1cblxuLmZvcm0tZ3JvdXAgbGFiZWwge1xuICBmb250LXdlaWdodDogNjAwO1xuICBtYXJnaW4tYm90dG9tOiAwLjVyZW07XG4gIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4uZm9ybS1ncm91cCBpbnB1dCB7XG4gIHdpZHRoOiAxMDAlO1xuICBwYWRkaW5nOiAwLjc1cmVtO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNjY2M7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbn1cblxuLmJ0bi1wcmltYXJ5IHtcbiAgd2lkdGg6IDEwMCU7XG4gIHBhZGRpbmc6IDAuNzVyZW07XG4gIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgYm9yZGVyOiBub25lO1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjMDA3YWZmO1xuICBjb2xvcjogd2hpdGU7XG4gIGZvbnQtc2l6ZTogMXJlbTtcbiAgY3Vyc29yOiBwb2ludGVyO1xuICB0cmFuc2l0aW9uOiBiYWNrZ3JvdW5kLWNvbG9yIDAuMnMgZWFzZTtcbn1cblxuLmJ0bi1wcmltYXJ5OmhvdmVyIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzAwNTZiMztcbn1cblxuI2xvZ2lucmVnaXN0ZXIge1xuICBkaXNwbGF5OiBibG9jaztcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiAxcmVtO1xuICBjb2xvcjogIzAwN2FmZjtcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xufVxuXG4jbG9naW5yZWdpc3Rlcjpob3ZlciB7XG4gIHRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lO1xufVxuXG4uYWxlcnQge1xuICBtYXJnaW4tdG9wOiAxcmVtO1xuICBwYWRkaW5nOiAwLjc1cmVtO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgZm9udC1zaXplOiAwLjlyZW07XG59XG5cbi5hbGVydC1kYW5nZXIge1xuICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGMzNTQ1O1xuICBjb2xvcjogd2hpdGU7XG59XG5cbi5hbGVydC1zdWNjZXNzIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzI4YTc0NTtcbiAgY29sb3I6IHdoaXRlO1xufVxuXG4uZXJyb3Ige1xuICBjb2xvcjogI2RjMzU0NTtcbiAgZm9udC1zaXplOiAwLjhyZW07XG59XG4iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","RegisterComponent","constructor","authService","router","ngOnInit","register","errorMessage","successMessage","isLoading","password","confirmPassword","email","username","subscribe","response","loginAfterRegister","error","message","login","success","navigate","loginError","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/Users/zakarianurgutale/Projects/HomeToGo2/HomeToGo2/ClientApp/src/app/Authentication/register.component.html","/Users/zakarianurgutale/Projects/HomeToGo2/HomeToGo2/ClientApp/src/app/Authentication/register.component.ts"],"sourcesContent":["<div class=\"form-container\">\n  <h2>Register</h2>\n  <form (ngSubmit)=\"register()\" #registerForm=\"ngForm\">\n    <div class=\"form-group\">\n      <label for=\"username\">Username:</label>\n      <input type=\"text\" id=\"username\" [(ngModel)]=\"username\" name=\"username\" required #usernameField=\"ngModel\">\n      <div *ngIf=\"usernameField.invalid && (usernameField.dirty || usernameField.touched)\" class=\"alert alert-danger\">\n        Username is required.\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"email\">Email:</label>\n      <input type=\"email\" id=\"email\" [(ngModel)]=\"email\" name=\"email\" required email #emailField=\"ngModel\">\n      <div *ngIf=\"emailField.errors && (emailField.dirty || emailField.touched)\" class=\"alert alert-danger\">\n        <div *ngIf=\"emailField.errors.required\">Email is required.</div>\n        <div *ngIf=\"emailField.errors.email\">Invalid email format.</div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"password\">Password:</label>\n      <input type=\"password\" id=\"password\" [(ngModel)]=\"password\" name=\"password\" required minlength=\"6\" #passwordField=\"ngModel\">\n      <div *ngIf=\"passwordField.errors && (passwordField.dirty || passwordField.touched)\" class=\"alert alert-danger\">\n        <div *ngIf=\"passwordField.errors.required\">Password is required.</div>\n        <div *ngIf=\"passwordField.errors.minlength\">Password must be at least 6 characters long with a number and a symbol.</div>\n      </div>\n    </div>\n    <div class=\"form-group\">\n      <label for=\"confirmPassword\">Confirm Password:</label>\n      <input type=\"password\" id=\"confirmPassword\" [(ngModel)]=\"confirmPassword\" name=\"confirmPassword\" required #confirmPasswordField=\"ngModel\">\n      <div *ngIf=\"confirmPasswordField.errors && (confirmPasswordField.dirty || confirmPasswordField.touched)\" class=\"alert alert-danger\">\n        <div *ngIf=\"confirmPasswordField.errors.required\">Confirmation password is required.</div>\n      </div>\n    </div>\n    <button type=\"submit\" class=\"btn btn-primary\" [disabled]=\"!registerForm.form.valid\">Register</button>\n    <a id=\"loginregister\" [routerLink]=\"['/login']\" class=\"btn btn-outline-secondary\">Or Login</a>\n  </form>\n  <div *ngIf=\"errorMessage\" class=\"alert alert-danger\">{{ errorMessage }}</div>\n  <div *ngIf=\"successMessage\" class=\"alert alert-success\">{{ successMessage }}</div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { AuthService } from './auth.service';\n\n@Component({\n  selector: 'app-register',\n  templateUrl: './register.component.html',\n  styleUrls: ['./register.component.css']\n})\nexport class RegisterComponent implements OnInit {\n  email: string = '';\n  username: string = ''; // Add username\n  password: string = '';\n  confirmPassword: string = '';\n  errorMessage: string = '';\n  successMessage: string = '';\n  isLoading: boolean = false;\n\n  constructor(private authService: AuthService, private router: Router) { }\n\n  ngOnInit(): void {\n  }\n\n  register() {\n    this.errorMessage = '';\n    this.successMessage = '';\n    this.isLoading = true;\n\n    if (this.password !== this.confirmPassword) {\n      this.isLoading = false;\n      this.errorMessage = 'Passwords do not match';\n      return;\n    }\n\n    this.authService.register(this.email, this.username, this.password).subscribe(\n      response => {\n        this.successMessage = 'Registration successful!';\n        // Automatically log in after successful registration\n        this.loginAfterRegister();\n      },\n      error => {\n        this.isLoading = false;\n        this.errorMessage = error.error.message || 'Registration failed';\n      }\n    );\n  }\n\n  private loginAfterRegister() {\n    this.authService.login(this.username, this.password).subscribe(\n      success => {\n        this.router.navigate(['/']); // Navigate to home or dashboard\n      },\n      loginError => {\n        this.errorMessage = 'Automatic login failed. Please log in manually.';\n        this.isLoading = false;\n      }\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}