{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"./listings.service\";\nimport * as i3 from \"@angular/common\";\nconst _c0 = function () {\n  return [\"/reservationform\"];\n};\nconst _c1 = function () {\n  return [\"/listings\"];\n};\nconst _c2 = function () {\n  return [\"/listingsgrid\"];\n};\nexport class ListingDetailComponent {\n  constructor(route, listingService, router // Inject Router for navigation\n  ) {\n    this.route = route;\n    this.listingService = listingService;\n    this.router = router;\n  }\n  ngOnInit() {\n    // Retrieve the 'id' parameter from the route.\n    const idParam = this.route.snapshot.paramMap.get('id');\n    if (idParam) {\n      const id = +idParam; // Convert the id to a number using the unary '+' operator.\n      this.fetchListing(id);\n    } else {\n      // If no id is found in the route, log an error and redirect or handle appropriately.\n      console.error('No listing ID provided in the route.');\n      this.router.navigate(['/']); // Redirect to home or another route.\n    }\n  }\n  // Fetches the listing details using the ListingService.\n  fetchListing(id) {\n    this.listingService.getListingById(id).subscribe({\n      next: data => {\n        this.listing = data; // Assign the fetched data to the listing property.\n      },\n\n      error: error => {\n        // Log the error to the console and inform the user.\n        console.error(`Error fetching listing details for ID ${id}:`, error);\n        // Implement a user-friendly error handling strategy:\n        // This could be showing an error message in the UI, redirecting to an error page, etc.\n      }\n    });\n  }\n}\n\nListingDetailComponent.ɵfac = function ListingDetailComponent_Factory(t) {\n  return new (t || ListingDetailComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ListingService), i0.ɵɵdirectiveInject(i1.Router));\n};\nListingDetailComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListingDetailComponent,\n  selectors: [[\"app-listing-detail\"]],\n  decls: 20,\n  vars: 14,\n  consts: [[1, \"container\", \"mt-4\"], [1, \"row\", \"gx-5\"], [1, \"col-md-6\"], [1, \"img-fluid\", \"rounded\", \"shadow-sm\", 3, \"alt\", \"src\"], [1, \"text-muted\", \"fs-4\"], [1, \"mt-4\"], [1, \"btn\", \"btn-primary\", 3, \"routerLink\"], [1, \"mt-3\"], [1, \"btn\", \"btn-outline-secondary\", 3, \"routerLink\"], [1, \"btn\", \"btn-outline-secondary\", \"ms-2\", 3, \"routerLink\"]],\n  template: function ListingDetailComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2);\n      i0.ɵɵelement(3, \"img\", 3);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"div\", 2)(5, \"h1\");\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(7, \"p\", 4);\n      i0.ɵɵtext(8);\n      i0.ɵɵpipe(9, \"currency\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"p\");\n      i0.ɵɵtext(11);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"div\", 5)(13, \"button\", 6);\n      i0.ɵɵtext(14, \"Create a Reservation\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelementStart(15, \"div\", 7)(16, \"a\", 8);\n      i0.ɵɵtext(17, \"Back to Table View\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"a\", 9);\n      i0.ɵɵtext(19, \"Back to Grid View\");\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"alt\", ctx.listing.Title)(\"src\", ctx.listing.ImageUrl, i0.ɵɵsanitizeUrl);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.listing.Title);\n      i0.ɵɵadvance(2);\n      i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(9, 8, ctx.listing.Price, \"NOK\"));\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.listing.Description);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(11, _c0));\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(12, _c1));\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(13, _c2));\n    }\n  },\n  dependencies: [i1.RouterLink, i3.CurrencyPipe],\n  styles: [\".container[_ngcontent-%COMP%] {\\n  margin-top: 2rem;\\n}\\n\\n.img-fluid[_ngcontent-%COMP%] {\\n  max-width: 100%;\\n  height: auto;\\n  border-radius: .25rem;\\n  box-shadow: 0 .5rem 1rem rgba(0, 0, 0, .15);\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvTGlzdGluZ3MvbGlzdGluZ2RldGFpbC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsZUFBZTtFQUNmLFlBQVk7RUFDWixxQkFBcUI7RUFDckIsMkNBQTJDO0FBQzdDOztBQUVBLG1FQUFtRSIsInNvdXJjZXNDb250ZW50IjpbIi5jb250YWluZXIge1xuICBtYXJnaW4tdG9wOiAycmVtO1xufVxuXG4uaW1nLWZsdWlkIHtcbiAgbWF4LXdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IGF1dG87XG4gIGJvcmRlci1yYWRpdXM6IC4yNXJlbTtcbiAgYm94LXNoYWRvdzogMCAuNXJlbSAxcmVtIHJnYmEoMCwgMCwgMCwgLjE1KTtcbn1cblxuLyogWW91IGNhbiBjb250aW51ZSB0byBhZGQgc3R5bGVzIGhlcmUgdGhhdCBtYXRjaCB5b3VyIFJhem9yIHZpZXcgKi9cbiJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;;;;;;AAUA,OAAM,MAAOA,sBAAsB;EAGjCC,YACUC,KAAqB,EACrBC,cAA8B,EAC9BC,MAAc,CAAC;EAAA;IAFf,UAAK,GAALF,KAAK;IACL,mBAAc,GAAdC,cAAc;IACd,WAAM,GAANC,MAAM;EACZ;EAEJC,QAAQ;IACN;IACA,MAAMC,OAAO,GAAG,IAAI,CAACJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAACC,GAAG,CAAC,IAAI,CAAC;IACtD,IAAIH,OAAO,EAAE;MACX,MAAMI,EAAE,GAAG,CAACJ,OAAO,CAAC,CAAC;MACrB,IAAI,CAACK,YAAY,CAACD,EAAE,CAAC;KACtB,MAAM;MACL;MACAE,OAAO,CAACC,KAAK,CAAC,sCAAsC,CAAC;MACrD,IAAI,CAACT,MAAM,CAACU,QAAQ,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;;EAEjC;EAEA;EACQH,YAAY,CAACD,EAAU;IAC7B,IAAI,CAACP,cAAc,CAACY,cAAc,CAACL,EAAE,CAAC,CAACM,SAAS,CAAC;MAC/CC,IAAI,EAAGC,IAAc,IAAI;QACvB,IAAI,CAACC,OAAO,GAAGD,IAAI,CAAC,CAAC;MACvB,CAAC;;MACDL,KAAK,EAAGA,KAAK,IAAI;QACf;QACAD,OAAO,CAACC,KAAK,CAAC,yCAAyCH,EAAE,GAAG,EAAEG,KAAK,CAAC;QACpE;QACA;MACF;KACD,CAAC;EACJ;;;AAnCWb,sBAAsB;mBAAtBA,sBAAsB;AAAA;AAAtBA,sBAAsB;QAAtBA,sBAAsB;EAAAoB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MCVnCC,8BAA4B;MAGhBA,yBAA0F;MAC9FA,iBAAM;MACNA,8BAAsB;MACdA,YAAmB;MAAAA,iBAAK;MAC5BA,4BAA2B;MAAAA,YAAoC;;MAAAA,iBAAI;MACnEA,0BAAG;MAAAA,aAAyB;MAAAA,iBAAI;MAChCA,+BAAkB;MACuDA,qCAAoB;MAAAA,iBAAS;MAGtGA,+BAAkB;MACoDA,mCAAkB;MAAAA,iBAAI;MACxFA,6BAA2E;MAAAA,kCAAiB;MAAAA,iBAAI;;;MAZ/FA,eAAqB;MAArBA,uCAAqB;MAGtBA,eAAmB;MAAnBA,uCAAmB;MACIA,eAAoC;MAApCA,oEAAoC;MAC5DA,eAAyB;MAAzBA,6CAAyB;MAESA,eAAmC;MAAnCA,wDAAmC;MAIjEA,eAA4B;MAA5BA,wDAA4B;MAC5BA,eAAgC;MAAhCA,wDAAgC","names":["ListingDetailComponent","constructor","route","listingService","router","ngOnInit","idParam","snapshot","paramMap","get","id","fetchListing","console","error","navigate","getListingById","subscribe","next","data","listing","selectors","decls","vars","consts","template","i0"],"sourceRoot":"","sources":["/Users/ibrahim/Projects/HomeToGo2/HomeToGo2/HomeToGo2/ClientApp/src/app/Listings/listingdetail.component.ts","/Users/ibrahim/Projects/HomeToGo2/HomeToGo2/HomeToGo2/ClientApp/src/app/Listings/listingdetail.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IListing } from './listing';\nimport { ListingService } from './listings.service';\n\n@Component({\n  selector: 'app-listing-detail',\n  templateUrl: './listingdetail.component.html',\n  styleUrls: ['./listingdetail.component.css']\n})\nexport class ListingDetailComponent implements OnInit {\n  listing?: IListing; // Made it optional to handle cases where the listing isn't found.\n\n  constructor(\n    private route: ActivatedRoute,\n    private listingService: ListingService,\n    private router: Router // Inject Router for navigation\n  ) { }\n\n  ngOnInit(): void {\n    // Retrieve the 'id' parameter from the route.\n    const idParam = this.route.snapshot.paramMap.get('id');\n    if (idParam) {\n      const id = +idParam; // Convert the id to a number using the unary '+' operator.\n      this.fetchListing(id);\n    } else {\n      // If no id is found in the route, log an error and redirect or handle appropriately.\n      console.error('No listing ID provided in the route.');\n      this.router.navigate(['/']); // Redirect to home or another route.\n    }\n  }\n\n  // Fetches the listing details using the ListingService.\n  private fetchListing(id: number): void {\n    this.listingService.getListingById(id).subscribe({\n      next: (data: IListing) => {\n        this.listing = data; // Assign the fetched data to the listing property.\n      },\n      error: (error) => {\n        // Log the error to the console and inform the user.\n        console.error(`Error fetching listing details for ID ${id}:`, error);\n        // Implement a user-friendly error handling strategy:\n        // This could be showing an error message in the UI, redirecting to an error page, etc.\n      }\n    });\n  }\n}\n","<div class=\"container mt-4\">\n    <div class=\"row gx-5\">\n        <div class=\"col-md-6\">\n            <img [alt]=\"listing.Title\" [src]=\"listing.ImageUrl\" class=\"img-fluid rounded shadow-sm\" />\n        </div>\n        <div class=\"col-md-6\">\n            <h1>{{ listing.Title }}</h1>\n            <p class=\"text-muted fs-4\">{{ listing.Price | currency:'NOK' }}</p>\n            <p>{{ listing.Description }}</p>\n            <div class=\"mt-4\">\n                <button class=\"btn btn-primary\"  [routerLink]=\"['/reservationform']\">Create a Reservation</button>\n\n            </div>\n            <div class=\"mt-3\">\n                <a [routerLink]=\"['/listings']\" class=\"btn btn-outline-secondary\">Back to Table View</a>\n                <a [routerLink]=\"['/listingsgrid']\" class=\"btn btn-outline-secondary ms-2\">Back to Grid View</a>\n            </div>\n        </div>\n    </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}