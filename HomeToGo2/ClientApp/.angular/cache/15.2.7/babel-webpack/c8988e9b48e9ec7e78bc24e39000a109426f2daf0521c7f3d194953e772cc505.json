{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from \"@angular/core\";\nimport { Validators } from '@angular/forms';\nlet ReservationFormComponent = class ReservationFormComponent {\n  constructor(formBuilder, router, reservationService, listingService) {\n    this.formBuilder = formBuilder;\n    this.router = router;\n    this.reservationService = reservationService;\n    this.listingService = listingService;\n    this.listings = [];\n    this.reservationForm = this.formBuilder.group({\n      ListingId: ['', Validators.required],\n      CheckInDate: ['', Validators.required],\n      CheckOutDate: ['', Validators.required]\n    });\n  }\n  ngOnInit() {\n    this.loadListings();\n  }\n  loadListings() {\n    this.listingService.getListings().subscribe({\n      next: listings => this.listings = listings,\n      error: error => console.error('Error loading listings', error)\n    });\n  }\n  onSubmit() {\n    console.log(\"Reservationcreate form submitted: \");\n    console.log(this.reservationForm);\n    const newReservation = this.reservationForm.value;\n    this.reservationService.createReservation(newReservation).subscribe({\n      next: response => {\n        console.log(response.message);\n        this.router.navigate(['/reservations']);\n      },\n      error: error => console.error('Reservation creation failed', error)\n    });\n  }\n  backToReservations() {\n    this.router.navigate(['/reservations']);\n  }\n};\nReservationFormComponent = __decorate([Component({\n  selector: \"app-reservation-form\",\n  templateUrl: \"./reservationform.component.html\"\n})], ReservationFormComponent);\nexport { ReservationFormComponent };","map":{"version":3,"mappings":";AAAA,SAASA,SAAS,QAAgB,eAAe;AACjD,SAAiCC,UAAU,QAAQ,gBAAgB;AAU5D,IAAMC,wBAAwB,GAA9B,MAAMA,wBAAwB;EAInCC,YACUC,WAAwB,EACxBC,MAAc,EACdC,kBAAsC,EACtCC,cAA8B;IAH9B,gBAAW,GAAXH,WAAW;IACX,WAAM,GAANC,MAAM;IACN,uBAAkB,GAAlBC,kBAAkB;IAClB,mBAAc,GAAdC,cAAc;IANxB,aAAQ,GAAe,EAAE;IAQvB,IAAI,CAACC,eAAe,GAAG,IAAI,CAACJ,WAAW,CAACK,KAAK,CAAC;MAC5CC,SAAS,EAAE,CAAC,EAAE,EAAET,UAAU,CAACU,QAAQ,CAAC;MACpCC,WAAW,EAAE,CAAC,EAAE,EAAEX,UAAU,CAACU,QAAQ,CAAC;MACtCE,YAAY,EAAE,CAAC,EAAE,EAAEZ,UAAU,CAACU,QAAQ;KAEvC,CAAC;EACJ;EAEAG,QAAQ;IACN,IAAI,CAACC,YAAY,EAAE;EACrB;EAEAA,YAAY;IACV,IAAI,CAACR,cAAc,CAACS,WAAW,EAAE,CAACC,SAAS,CAAC;MAC1CC,IAAI,EAAGC,QAAQ,IAAK,IAAI,CAACA,QAAQ,GAAGA,QAAQ;MAC5CC,KAAK,EAAGA,KAAK,IAAKC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK;KAChE,CAAC;EACJ;EAEAE,QAAQ;IACND,OAAO,CAACE,GAAG,CAAC,oCAAoC,CAAC;IACjDF,OAAO,CAACE,GAAG,CAAC,IAAI,CAACf,eAAe,CAAC;IACjC,MAAMgB,cAAc,GAAG,IAAI,CAAChB,eAAe,CAACiB,KAAK;IACjD,IAAI,CAACnB,kBAAkB,CAACoB,iBAAiB,CAACF,cAAc,CAAC,CACtDP,SAAS,CAAC;MACTC,IAAI,EAAGS,QAAQ,IAAI;QACjBN,OAAO,CAACE,GAAG,CAACI,QAAQ,CAACC,OAAO,CAAC;QAC7B,IAAI,CAACvB,MAAM,CAACwB,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;MACzC,CAAC;MACDT,KAAK,EAAGA,KAAK,IAAKC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK;KACrE,CAAC;EACN;EAEAU,kBAAkB;IAChB,IAAI,CAACzB,MAAM,CAACwB,QAAQ,CAAC,CAAC,eAAe,CAAC,CAAC;EACzC;CACD;AA9CY3B,wBAAwB,eAJpCF,SAAS,CAAC;EACT+B,QAAQ,EAAE,sBAAsB;EAChCC,WAAW,EAAE;CACd,CAAC,GACW9B,wBAAwB,CA8CpC;SA9CYA,wBAAwB","names":["Component","Validators","ReservationFormComponent","constructor","formBuilder","router","reservationService","listingService","reservationForm","group","ListingId","required","CheckInDate","CheckOutDate","ngOnInit","loadListings","getListings","subscribe","next","listings","error","console","onSubmit","log","newReservation","value","createReservation","response","message","navigate","backToReservations","selector","templateUrl"],"sourceRoot":"","sources":["/Users/ibrahim/Projects/HomeToGo2/HomeToGo2/HomeToGo2/ClientApp/src/app/reservations/reservationform.component.ts"],"sourcesContent":["import { Component, OnInit } from \"@angular/core\";\nimport { FormGroup, FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { ReservationService } from './reservations.service';\nimport { IListing } from '../listings/listing';\nimport { ListingService } from '../listings/listings.service';\n\n@Component({\n  selector: \"app-reservation-form\",\n  templateUrl: \"./reservationform.component.html\"\n})\nexport class ReservationFormComponent implements OnInit {\n  reservationForm: FormGroup;\n  listings: IListing[] = [];\n\n  constructor(\n    private formBuilder: FormBuilder,\n    private router: Router,\n    private reservationService: ReservationService,\n    private listingService: ListingService\n  ) {\n    this.reservationForm = this.formBuilder.group({\n      ListingId: ['', Validators.required],\n      CheckInDate: ['', Validators.required],\n      CheckOutDate: ['', Validators.required],\n\n    });\n  }\n\n  ngOnInit(): void {\n    this.loadListings();\n  }\n\n  loadListings(): void {\n    this.listingService.getListings().subscribe({\n      next: (listings) => this.listings = listings,\n      error: (error) => console.error('Error loading listings', error)\n    });\n  }\n\n  onSubmit(): void {\n    console.log(\"Reservationcreate form submitted: \");\n    console.log(this.reservationForm);\n    const newReservation = this.reservationForm.value;\n    this.reservationService.createReservation(newReservation)\n      .subscribe({\n        next: (response) => {\n          console.log(response.message);\n          this.router.navigate(['/reservations']);\n        },\n        error: (error) => console.error('Reservation creation failed', error)\n      });\n  }\n\n  backToReservations(): void {\n    this.router.navigate(['/reservations']);\n  }\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}