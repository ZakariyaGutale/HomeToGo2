<h2>{{ isEditMode ? 'Update' : 'Create' }} Listing</h2>

<form [formGroup]="listingForm" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="title">Title:</label>
    <input type="text" id="title" formControlName="title" class="form-control" />
    <div *ngIf="listingForm.get('title')?.touched && listingForm.get('title')?.errors" class="alert alert-danger">
      <div *ngIf="listingForm.get('title')?.errors?.required">Title is required.</div>
      <div *ngIf="listingForm.get('title')?.errors?.minlength">Title must be at least 2 characters long.</div>
      <div *ngIf="listingForm.get('title')?.errors?.maxlength">Title cannot be more than 50 characters long.</div>
    </div>
  </div>

  <div class="form-group">
    <label for="address">Address:</label>
    <input type="text" id="address" formControlName="address" class="form-control" />
    <div *ngIf="listingForm.get('address')?.touched && listingForm.get('address')?.errors" class="alert alert-danger">
      <div *ngIf="listingForm.get('address')?.errors?.required">Address is required.</div>
      <div *ngIf="listingForm.get('address')?.errors?.minlength">Address must be at least 4 characters long.</div>
      <div *ngIf="listingForm.get('address')?.errors?.maxlength">Address cannot be more than 50 characters long.</div>
    </div>
  </div>

  <div class="form-group">
    <label for="price">Price:</label>
    <input type="number" id="price" formControlName="price" class="form-control" />
    <div *ngIf="listingForm.get('price')?.touched && listingForm.get('price')?.errors" class="alert alert-danger">
      <div *ngIf="listingForm.get('price')?.errors?.required">Price is required.</div>
      <div *ngIf="listingForm.get('price')?.errors?.min">Price must be greater than 0.</div>
    </div>
  </div>

  <div class="form-group">
    <label for="description">Description:</label>
    <textarea id="description" formControlName="description" class="form-control"></textarea>
  </div>

  <div class="form-group">
    <label for="imageUrl">Image URL:</label>
    <input type="text" id="imageUrl" formControlName="imageUrl" class="form-control" />
  </div>

  <button class='btn btn-primary' type="submit" [disabled]="listingForm.invalid">
    {{ isEditMode ? 'Update' : 'Create' }} Listing
  </button>
  <button class="btn btn-secondary" (click)="backToListings()">Cancel</button>
</form>
